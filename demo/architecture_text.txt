================================================================================
                    CURRENT ARCHITECTURE - CSV-BASED
================================================================================

┌─────────────────┐
│   CSV Files     │
│                 │
│ app_store_      │
│ reviews.csv     │
│                 │
│ support_        │
│ emails.csv      │
└────────┬────────┘
         │
         ▼
┌─────────────────────────────────────┐
│      Docker Containers              │
│                                     │
│  ┌──────────────┐  ┌─────────────┐│
│  │  Streamlit   │  │   FastAPI    ││
│  │  Frontend    │◄─┤   Backend    ││
│  │  :8501       │  │   :8001      ││
│  └──────────────┘  └──────┬───────┘│
└────────────────────────────┼────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────┐
│              CrewAI Agents Pipeline                │
│                                                     │
│  1. CSV Reader ──┐                                 │
│                  │                                 │
│  2. Classifier ──┼──┐                              │
│                  │  │                              │
│  3. Bug Analyzer─┘  │                              │
│                     │                              │
│  4. Feature ────────┘                              │
│     Extractor                                      │
│                                                     │
│  5. Ticket Creator                                 │
│                                                     │
│  6. Quality Critic                                 │
│                                                     │
│  7. Fallback Agent                                 │
└────────────────────┬───────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────┐
│         Output Files                │
│                                     │
│  generated_tickets.csv              │
│  metrics.csv                        │
│  processing_log.csv                 │
└─────────────────────────────────────┘


================================================================================
                    AGENT PROCESSING PIPELINE
================================================================================

Input: CSV Files
    │
    ▼
┌─────────────────┐
│ 1. CSV Reader   │  Data Ingestion & Normalization
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 2. Classifier   │  Categorization (Bug/Feature/Praise/Complaint/Spam)
└────────┬────────┘
         │
    ┌────┴────┐
    │         │
    ▼         ▼
┌─────────┐ ┌──────────────┐
│ 3. Bug  │ │ 4. Feature   │
│Analyzer │ │ Extractor    │
└────┬────┘ └──────┬───────┘
     │            │
     └─────┬──────┘
           │
           ▼
    ┌──────────────┐
    │ 5. Ticket    │  Structured Ticket Generation
    │ Creator      │
    └──────┬───────┘
           │
           ▼
    ┌──────────────┐
    │ 6. Quality   │  QA Review & Validation
    │ Critic       │
    └──────┬───────┘
           │
           ▼
    ┌──────────────┐
    │   Output     │  generated_tickets.csv
    │              │  metrics.csv
    └──────────────┘
           │
           │ (on error)
           ▼
    ┌──────────────┐
    │ 7. Fallback  │  Error Handling (no data loss)
    │ Agent        │
    └──────────────┘


================================================================================
                    AWS PRODUCTION ARCHITECTURE
================================================================================

┌──────────────┐      ┌──────────────┐      ┌──────────────┐
│   App Store  │      │   Support    │      │   Webhook    │
│   Reviews    │      │   Emails     │      │   Endpoints  │
│              │      │              │      │              │
│  (S3/API)    │      │   (SES)      │      │  (API GW)    │
└──────┬───────┘      └──────┬───────┘      └──────┬───────┘
       │                     │                      │
       └─────────────────────┼──────────────────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │  Amazon         │
                    │  EventBridge    │
                    │  (Event Bus)    │
                    └────────┬─────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   AWS Lambda    │
                    │   (Ingestion)   │
                    │                 │
                    │  - Validate     │
                    │  - Transform    │
                    │  - Enqueue      │
                    └────────┬─────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   Amazon SQS    │
                    │   (Buffering)   │
                    │                 │
                    │  - Queue        │
                    │  - Retry Logic  │
                    │  - DLQ          │
                    └────────┬─────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   ECS Fargate   │
                    │                 │
                    │  CrewAI Agents  │
                    │                 │
                    │  - Auto-scaling │
                    │  - Health checks │
                    └────────┬─────────┘
                             │
        ┌────────────────────┼────────────────────┐
        │                    │                    │
        ▼                    ▼                    ▼
┌───────────────┐   ┌───────────────┐   ┌───────────────┐
│  RDS          │   │  DynamoDB     │   │  S3 Bucket     │
│  PostgreSQL   │   │               │   │               │
│               │   │  - Metrics    │   │  - Logs        │
│  - Tickets    │   │  - Analytics  │   │  - Artifacts   │
│  - Metadata   │   │  - Time-series│   │  - Backups     │
└───────┬───────┘   └───────┬───────┘   └───────┬───────┘
        │                   │                   │
        └───────────────────┼───────────────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   Streamlit     │
                    │   Dashboard     │
                    │                 │
                    │  - ECS Fargate  │
                    │  - ALB          │
                    │  - CloudFront   │
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │     Users       │
                    │   (Browser)     │
                    └─────────────────┘


================================================================================
                         DATA FLOW
================================================================================

Input Data (CSV Files)
    │
    ▼
Normalize ──► Classify ──► Analyze ──► Create Ticket ──► Review
    │            │           │              │                │
    │            │           │              │                │
    └────────────┴───────────┴──────────────┴────────────────┘
                                    │
                                    ▼
                    ┌───────────────┬───────────────┐
                    │               │               │
                    ▼               ▼               ▼
            Tickets CSV      Metrics CSV      Logs CSV
